<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <!--
      N개의 자연수가 입력되면 각 자연수의 자릿수의 합을 구하고, 그 합이 최대인 자연수를 출력
      자릿수의 합이 같은 경우 원래 숫자가 큰 숫자를 답으로 함. 
      만약 235 와 1234가 동시에 답이 될 수 있다면 1234를 답으로 출력
    -->
    <script>
      function solution(n, arr) {
        // 2번째 시도 (for문 동작 과정에서 바로 sum 값끼리 비교하여 max 값 찾기)
        var answer,
          max = 0;
        for (var i = 0; i < n; i++) {
          var sum = arr[i]
            .toString()
            .split("")
            .reduce((acc, cur) => acc + +cur, 0);
          if (sum > max) {
            max = sum;
            answer = arr[i];
          } else if (sum === max) {
            if (arr[i] > answer) answer = arr[i];
          }
        }
        return answer;

        /*
        // 1번째 시도 (각 자릿수 합의 배열을 만들고 해당 idx로 값 찾기)
        var answer = [];
        var sums = [];
        for (var i = 0; i < n; i++) {
          var sum = arr[i]
            .toString()
            .split("")
            .reduce((acc, cur) => acc + +cur, 0);
          sums.push(sum);
        }

        var max = Math.max(...sums);

        for (var i = 0; i < n; i++) {
          if (sums[i] == max) answer.push(arr[i]);
        }

        return Math.max(...answer);
        */
      }

      let arr = [128, 460, 603, 40, 521, 137, 123];
      console.log(solution(7, arr));
    </script>
  </body>
</html>
